# Fly-Hi: Self-Hosted Power House!

**Credits:**
This project is a fork and combination of [Yams Media](https://yams.media) and [AdrienPoupa/docker-compose-nas](https://github.com/AdrienPoupa/docker-compose-nas). Special thanks to these contributors for the foundation of this repository.

I've repurposed it to suit my needs and wanted to share it with you!

## Description

Fly-Hi is a versatile server setup that secures, manages, downloads, categorizes, subtitles, and serves all your media. The script offers options to install the following software:

### Management:

- **Portainer:** Keep your docker containers in check! [Portainer](https://www.portainer.io/)
- **Watchtower:** Keep your docker containers up to date! [Watchtower](https://github.com/containrrr/watchtower)
- **Heimdall:** Organize your services on a nice Dashboard [Heimdall](https://github.com/linuxserver/Heimdall)
- **Glances:** System Information [Glances](https://nicolargo.github.io/glances/)
- **Uptime-Kuma:** Real-time monitoring of your services [Uptime-Kuma](https://github.com/louislam/uptime-kuma)
- **Scrutiny:** HDD/SSD monitoring tool with a nice dashboard [Scrutiny](https://github.com/AnalogJ/scrutiny)
- **Ntfy:** Beautiful push notification server for docker services, ssh, cronjobs, etc. [Ntfy](https://docs.ntfy.sh/)
- **Vaultwarden:** Password Manager [Vaultwarden](https://hub.docker.com/r/vaultwarden/server)
- **PhpMyAdmin:** WebUI for managing MySQL/MariaDB databases [PhpMyAdmin](https://hub.docker.com/r/phpmyadmin/phpmyadmin/)
- **PgAdmin:** WebUI for managing Postgres databases [PgAdmin](https://www.pgadmin.org/docs/pgadmin4/latest/container_deployment.html)
- **CockpitProject:** System Management Tool [CockpitProject](https://cockpit-project.org)
- **Dozzle:** All docker logs in one place on a nice WEB-UI [Dozzle](https://dozzle.dev/)

### Network:

- **Flaresolverr:** Proxy server to bypass Cloudflare protection in Prowlarr [Flaresolverr](https://github.com/FlareSolverr/FlareSolverr)
- **Traefik:** Reverse Proxy [Traefik](https://traefik.io/traefik/)
- **Gluetun:** VPN Client [Gluetun](https://github.com/qdm12/gluetun)
- **Wireguard (wg-easy):** Connect to your home network from anywhere in the world! [Wireguard](https://github.com/wg-easy/wg-easy)
- **Tailscale:** Easier, closed-source alternative to private OpenVPN/Wireguard server [Tailscale](https://tailscale.com/)
- **DDclient (Dynamic DNS):** Keep your Domain updated at all times [DDclient](https://github.com/ddclient/ddclient)
- **Speedtest-tracker:** Monitor your internet speed on a scheduled basis [Speedtest-tracker](https://github.com/alexjustesen/speedtest-tracker)

### Advanced VPN Servers (For experienced users):

- **Wireguard (bash):** Connect to your home network from anywhere in the world! [Wireguard](https://github.com/angristan/wireguard-install)
- **OpenVPN (bash):** Connect to your home network from anywhere in the world! [OpenVPN](https://github.com/angristan/openvpn-install)

### Media:

- **Jellyfin:** Media Streaming Service (open-source, fork of Emby, recommended) [Jellyfin](https://jellyfin.org/)
- **Emby:** Media Streaming Service (closed-source) [Emby](https://emby.media/)
- **Plex:** Media Streaming Service (closed-source) [Plex](https://www.plex.tv/)
- **Airsonic:** Music Server [Airsonic](https://airsonic.github.io/)
- **Jellyseer:** Jellyfin Media Requests [Jellyseer](https://github.com/Fallenbagel/jellyseerr)
- **Overseerr:** Plex Media Requests [Overseerr](https://overseerr.dev/)
- **Ombi:** Jellyfin/Plex/Emby Media Requests [Ombi](https://github.com/Ombi-app/Ombi)
- **Calibre Library:** Manage all your books in famous Calibre Library [Calibre Library](https://hub.docker.com/r/linuxserver/calibre)
- **Calibre web:** Read your favorite Books [Calibre web](https://github.com/janeczku/calibre-web)
- **Audiobookshelf:** Listen to your favorite Audiobooks [Audiobookshelf](https://www.audiobookshelf.org/)
- **Photoprism:** Browse Your Life in Pictures [Photoprism](https://www.photoprism.app/)
- **Nextcloud:** Popular Open Source Google Cloud alternative [Nextcloud](https://nextcloud.com/)
- **Tubesync:** Manage your favorite Youtube Channels [Tubesync](https://github.com/meeb/tubesync)
- **Linkding:** Very fancy bookmarks manager with support for tags [Linkding](https://github.com/sissbruecker/linkding)
- **Linkwarden:** Very fancy bookmarks manager with support for tags [Linkwarden](https://github.com/linkwarden/linkwarden)
- **Joplin-Server:** Nice and very popular Notes-taking app [Joplin-Server](https://joplinapp.org/)
- **FreshRSS:** Nice RSS aggregator [FreshRSS](https://github.com/FreshRSS/FreshRSS/tree/edge/Docker#docker-compose)
- **Stirling-PDF:** Your locally hosted one-stop-shop for all your PDF needs [Stirling-PDF](https://github.com/Frooodle/Stirling-PDF)
- **Filebrowser:** Nice WebUI for accessing and managing your files [Filebrowser](https://filebrowser.org/)
- **Samba Server:** Samba can be used as a Network Attached Storage which can be mounted on your other devices like KODI, PC, Phones, etc.
- **Mealie:** A self-hosted recipe manager and meal planner [Mealie](https://docs.mealie.io/)

### Starrs and Download:

- **Radarr:** Manage your Movies [Radarr](https://radarr.video/)
- **Sonarr:** Manage your TV Shows [Sonarr](https://sonarr.tv/)
- **Readarr:** Manage your Books [Readarr](https://readarr.com/)
- **Lidarr:** Manage your Music [Lidarr](https://lidarr.audio/)
- **Bazarr:** Manage Subtitles for your Media Collection [Bazarr](https://www.bazarr.media/)
- **Prowlarr:** Indexer aggregator for Sonarr and Radarr [Prowlarr](https://github.com/Prowlarr/Prowlarr)
- **qBittorrent:** Does the actual download‚Ä¶ [qBittorrent](https://www.qbittorrent.org/)
- **Tubesync:** Manage your favorite Youtube Channels [Tubesync](https://github.com/meeb/tubesync)


* Disclaimer
:PROPERTIES:
:ID:       280135a0-2cff-4e93-8679-7d1a6d56b7b2
:END:


*This is a beta version and over time, and I mean a long time, Im looking to improve on security and additional functionality when it comes to permissions and network stuff like traefik. Im a beginner at this kind of stuff so any contributions and suggestions are very welcome. Documentation also needs a lot of work which I simply dont have time to do. If you notice any typos in any of the files, please let me know!*

*If you are a complete noob and want to run this locally only, it might be better to skip Traefik reverse-proxy setup, however if you are familiar with it and have a public domain already, please use it and test it! Also, if you don't have a Static Public IP address some stuff like VPN Servers usually work best if you have a public domain which can be regularly updated with Dynamic DNS client.*




* Dependencies
:PROPERTIES:
:ID:       01577a0a-852e-481a-b9b3-791b68594f96
:END:
You need to have:
- [[https://www.docker.com/][docker]]
- [[https://docs.docker.com/compose/][docker-compose]]

If you haven't installed them, don't worry! The script will attempt to run both installations (it only
works in Debian and Ubuntu!)

* Before running
:PROPERTIES:
:ID:       1c609bfc-4e6e-4fd8-8129-1b722fd7cda8
:END:
Before installing, make sure you have:
- *An installation location*: The script is going to ask you for a install location, but it will default
  to ~/opt/fly-hi~. Just make sure your current user has permissions to write on the selected directory.
- *A media folder*: This is the folder where all your files are going to be downloaded and categorized. If
  you choose ~/media/data~, the script is going to create the following folders:
  + ~/media/data/Movies~: For your Movies
  + ~/media/data/TV-Shows~: For your TV shows
  + ~/media/data/Music~: For your Music
  + ~/media/data/Photos~: For your Photos
  + ~/media/data/Books~: For your Books
  + ~/media/data/Podcasts~: For your Podcasts
  + ~/media/data/Torrents~: For your Torrents


- *A VPN service (optional but STRONGLY recommended):* If you can, choose one from [[https://yams.media/advanced/vpn#official-supported-vpns][this list]]. The VPN I
  always recommend is [[https://mullvad.net/en/][Mullvad]] because:
  + They don‚Äôt require your email or information to create a new account.
  + It‚Äôs simple to configure.
  + They only have monthly subscriptions, so you can leave them whenever you want.
  + You can pay with crypto.

* To run
:PROPERTIES:
:ID:       a0417c61-3fd8-40a0-9385-6c5aaed37337
:END:

#+begin_src bash
$ git clone https://github.com/RogueGhost93/fly-hi
$ cd fly-hi
$ chmod +x install.sh reinstall.sh wireguard-install.sh openvpn-install.sh docker.sh permissions.sh 
$ ./install.sh
#+end_src

And follow the instructions.
*There are a few things that need to be done after containers are up and running but sometimes containers fail to start properly if your system already has some conflicting ports in use. In order to finalize the installation you will need to run the reinstall.sh script after you fix the port conflicts or some other errors preventing containers to start up.*


* Usage
:PROPERTIES:
:ID:       9e995141-b386-4962-9842-7209bedc5651
:END:
When the script finishes installing without issues, just run:
#+begin_src
$ fly-hi
Fly-Hi Media

Usage: fly-hi [help|option] [compose-file]
options:
help        displays this help message
restart     restarts Fly-Hi services
stop        stops all Fly-Hi services
start       starts Fly-Hi services
update      updates Fly-Hi services
destroy     destroy Fly-Hi services but preserve container data
uninstall   completely remove all containers and their data from the system
ip          checks if the VPN is working as expected
ports       shows all ports currently used and opened by docker containers
links       shows links to access your services
vpn         Manage your VPN server

#+end_src
* How to configure?
:PROPERTIES:
:ID:       242b8dfa-82ab-4d86-b3ea-0a0af6cf3ad5
:END:

This guy has a very nice documentation for setting up some of these apps, mostly media and starr services!
Go to [[https://yams.media/config/][https://yams.media/config/]] and follow the config instructions.

* Donations
:PROPERTIES:
:ID:       992fb05d-c171-4ba9-9207-3dd1d467656e
:END:
If you *really* wish to donate, first I would like to say thank you from the bottom of my heart! ‚ù§Ô∏è Second, I
would prefer you donate to any of the projects used in this script.

They are the ones doing the real work, I just created a docker-compose files and a couple of bash scripts:


Just let them know Fly-Hi sent you there üòé

* todo [0/4]
:PROPERTIES:
:ID:       eba4712e-fa8a-42c8-bc32-b593141c99a4
:END:

- [ ] Documentation Improvements.
- [ ] Security Improvements.
- [ ] Integrate a way for easily adding your own custom docker-compose services.
- [ ] Support for Caddy (in testing).
- [ ] Support for Graylog (In testing).
- [ ] Support for Immich (In testing).



** And finally:
:PROPERTIES:
:ID:       126d4a9c-08a5-47f4-bffb-61b251ef394c
:END:
- You ü´µ, for being such an amazing human being, checking out my repo and (hopefully!) using it on your
  media server. Thank you! üôá
